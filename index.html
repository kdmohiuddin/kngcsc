<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KNGCSC - Science Club</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
            overflow-x: hidden;
        }
        h1, h2, h3, .brand-font { font-family: 'Orbitron', sans-serif; }

        /* Background Animation */
        .slideshow { position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: -1; list-style: none; margin: 0; padding: 0; }
        .slideshow li { width: 100%; height: 100%; position: absolute; top: 0; left: 0; background-size: cover; background-position: center; background-repeat: no-repeat; opacity: 0; z-index: 0; animation: imageAnimation 24s linear infinite; }
        .slideshow li:nth-child(1) { background-image: url('https://images.unsplash.com/photo-1532094349884-543bc11b234d?auto=format&fit=crop&w=1920&q=80'); }
        .slideshow li:nth-child(2) { background-image: url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=1920&q=80'); animation-delay: 6s; }
        .slideshow li:nth-child(3) { background-image: url('https://images.unsplash.com/photo-1576086213369-97a306d36557?auto=format&fit=crop&w=1920&q=80'); animation-delay: 12s; }
        .slideshow li:nth-child(4) { background-image: url('https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=1920&q=80'); animation-delay: 18s; }
        @keyframes imageAnimation { 0% { opacity: 0; transform: scale(1); } 10% { opacity: 1; } 20% { opacity: 1; } 30% { opacity: 0; transform: scale(1.1); } 100% { opacity: 0; } }

        /* Glassmorphism & Utilities */
        .glass-card { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.4s ease; }
        .glass-card:hover { background: rgba(30, 41, 59, 0.9); border-color: #06b6d4; transform: translateY(-5px); box-shadow: 0 0 20px rgba(6, 182, 212, 0.3); }
        .nav-glass { background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .text-gradient { background: linear-gradient(to right, #22d3ee, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .modal-overlay { background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(5px); }
        .input-glass { background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(255, 255, 255, 0.2); color: white; }
        .input-glass:focus { border-color: #22d3ee; outline: none; box-shadow: 0 0 10px rgba(34, 211, 238, 0.3); }
        .date-badge { background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 100%); clip-path: polygon(0 0, 100% 0, 100% 85%, 50% 100%, 0 85%); }
        
        .hidden-section { display: none; }
        /* Responsive Video Container */
        .video-container { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    </style>
</head>
<body>

    <ul class="slideshow"><li></li><li></li><li></li><li></li></ul>
    <div class="fixed inset-0 bg-slate-900/60 z-[-1]"></div>

    
    <!-- Navigation -->
    <nav class="fixed w-full nav-glass shadow-lg z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <a href="#home" class="text-2xl font-bold brand-font text-white tracking-wider">KNG<span class="text-cyan-400">CSC</span></a>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-6 items-center">
                    <a href="#home" class="text-sm hover:text-cyan-400 transition tracking-wide font-bold">HOME</a>
                    <a href="#about" class="text-sm hover:text-cyan-400 transition tracking-wide font-bold">ABOUT</a>
                    <a href="#panel" class="text-sm hover:text-cyan-400 transition tracking-wide font-bold">PANEL</a>
                    <a href="#events" class="text-sm hover:text-cyan-400 transition tracking-wide font-bold text-cyan-300">EVENTS</a>
                    <a href="#gallery" class="text-sm hover:text-cyan-400 transition tracking-wide font-bold">GALLERY</a>
                    <a href="#contact" class="text-sm hover:text-cyan-400 transition tracking-wide font-bold">CONTACT</a>
                    
                    <button id="loginBtn" onclick="openLoginModal()" class="ml-4 border border-cyan-500 text-cyan-400 px-5 py-1.5 rounded hover:bg-cyan-500 hover:text-black transition duration-300 font-bold flex items-center gap-2">LOGIN</button>
                    <button id="logoutBtn" onclick="handleLogout()" class="hidden ml-4 border border-red-500 text-red-400 px-5 py-1.5 rounded hover:bg-red-500 hover:text-white transition duration-300 font-bold">LOGOUT</button>
                </div>

                <!-- Mobile Toggle -->
                <button id="mobile-menu-btn" class="md:hidden text-white hover:text-cyan-400"><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t border-gray-700 pt-4">
                <a href="#home" class="block py-2 text-gray-300">HOME</a>
                <a href="#about" class="block py-2 text-gray-300">ABOUT</a>
                <a href="#panel" class="block py-2 text-gray-300">PANEL</a>
                <a href="#events" class="block py-2 text-gray-300">EVENTS</a>
                <a href="#gallery" class="block py-2 text-gray-300">GALLERY</a>
                <a href="#contact" class="block py-2 text-gray-300">CONTACT</a>
                <button id="mobileLoginBtn" onclick="openLoginModal()" class="mt-2 w-full text-left py-2 text-cyan-400 font-bold border border-cyan-500/30 px-3 rounded bg-cyan-900/20">LOGIN MEMBER</button>
                <button id="mobileLogoutBtn" onclick="handleLogout()" class="hidden mt-2 w-full text-left py-2 text-red-400 font-bold border border-red-500/30 px-3 rounded bg-red-900/20">LOGOUT</button>
            </div>
        </div>
    </nav>

    <!-- AUTH MODAL -->
    <div id="loginModal" class="fixed inset-0 z-[100] hidden">
        <div class="absolute inset-0 modal-overlay" onclick="closeLoginModal()"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-11/12 max-w-md">
            <div class="bg-slate-900/90 border border-cyan-500/50 rounded-xl p-8 shadow-[0_0_50px_rgba(6,182,212,0.3)] backdrop-blur-xl relative">
                <button onclick="closeLoginModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">‚úï</button>

                <!-- LOGIN VIEW -->
                <div id="loginContainer">
                    <h2 class="text-3xl font-bold text-center mb-2 brand-font text-white">MEMBER <span class="text-cyan-400">LOGIN</span></h2>
                    <p class="text-center text-gray-400 mb-6 text-sm">Access dashboard</p>
                    <form id="loginForm" onsubmit="handleLogin(event)">
                        <div class="mb-4"><label class="block text-cyan-400 text-sm font-bold mb-2">USERNAME / EMAIL</label><input type="text" id="loginEmail" class="w-full input-glass rounded p-3" placeholder="e.g. member.kngcsc"></div>
                        <div class="mb-2"><label class="block text-cyan-400 text-sm font-bold mb-2">PASSWORD</label><input type="password" id="loginPass" class="w-full input-glass rounded p-3" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"></div>
                        <div class="text-right mb-6"><button type="button" onclick="handleForgotPassword()" class="text-xs text-gray-400 hover:text-cyan-400 underline">Forgot Password?</button></div>
                        <div id="loginError" class="hidden text-red-500 text-sm text-center mb-4 font-bold bg-red-900/20 py-2 rounded border border-red-500/50">‚ö†Ô∏è Invalid Credentials</div>
                        <button type="submit" class="w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-3 rounded transition shadow-lg">LOGIN</button>
                    </form>
                    <div class="mt-4 text-center"><p class="text-gray-400 text-sm">Don't have an account? <button onclick="toggleAuthMode('signup')" class="text-cyan-400 font-bold hover:underline">Create Account</button></p></div>
                </div>

                <!-- SIGNUP VIEW -->
                <div id="signupContainer" class="hidden">
                    <h2 class="text-3xl font-bold text-center mb-2 brand-font text-white">JOIN <span class="text-cyan-400">KNGCSC</span></h2>
                    <form id="signupForm" onsubmit="handleSignUp(event)">
                        <div class="mb-4"><label class="block text-cyan-400 text-sm font-bold mb-2">FULL NAME</label><input type="text" id="regName" class="w-full input-glass rounded p-3" required></div>
                        <div class="mb-4"><label class="block text-cyan-400 text-sm font-bold mb-2">EMAIL</label><input type="email" id="regEmail" class="w-full input-glass rounded p-3" required></div>
                        <div class="mb-6"><label class="block text-cyan-400 text-sm font-bold mb-2">PASSWORD</label><input type="password" id="regPass" class="w-full input-glass rounded p-3" required minlength="6"></div>
                        <div id="signupError" class="hidden text-red-500 text-sm text-center mb-4 font-bold">Error</div>
                        <button type="submit" class="w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-3 rounded transition shadow-lg">REGISTER</button>
                    </form>
                    <div class="mt-4 text-center"><p class="text-gray-400 text-sm">Already a member? <button onclick="toggleAuthMode('login')" class="text-cyan-400 font-bold hover:underline">Back to Login</button></p></div>
                </div>
            </div>
        </div>
    </div>

    <!-- SECTION: ADMIN PANEL (Updated for Link & Video) -->
    <section id="admin-panel" class="hidden-section pt-24 pb-10 relative z-10 bg-slate-900/95 border-b border-cyan-500/30">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-white mb-6 border-l-4 border-red-500 pl-4">ADMIN CONTROL PANEL</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                
                <!-- Add Event -->
                <div class="glass-card p-6 rounded-xl">
                    <h3 class="text-xl font-bold text-cyan-400 mb-4">‚ûï Add New Event</h3>
                    <input type="text" id="newEventTitle" placeholder="Event Title" class="w-full input-glass rounded p-2 mb-3">
                    <input type="date" id="newEventDate" class="w-full input-glass rounded p-2 mb-3">
                    <input type="text" id="newEventImg" placeholder="Banner Image URL" class="w-full input-glass rounded p-2 mb-3">
                    <!-- New Link Field -->
                    <input type="text" id="newEventLink" placeholder="Registration Link (Google Form etc.)" class="w-full input-glass rounded p-2 mb-3 bg-cyan-900/20 border-cyan-500/50">
                    <button onclick="adminAddEvent()" class="bg-green-600 text-white px-4 py-2 rounded font-bold hover:bg-green-500 w-full">PUBLISH EVENT</button>
                </div>

                <!-- Add Media (Photo/Video) -->
                <div class="glass-card p-6 rounded-xl">
                    <h3 class="text-xl font-bold text-cyan-400 mb-4">üì∏ Add Media (Photo/Video)</h3>
                    <input type="text" id="newMediaTitle" placeholder="Short Title" class="w-full input-glass rounded p-2 mb-3">
                    <input type="text" id="newMediaUrl" placeholder="Image URL or YouTube Link" class="w-full input-glass rounded p-2 mb-3">
                    <button onclick="adminAddMedia()" class="bg-purple-600 text-white px-4 py-2 rounded font-bold hover:bg-purple-500 w-full">UPLOAD TO GALLERY</button>
                </div>
            </div>
        </div>
    </section>

    <!-- SECTION: MEMBER DASHBOARD -->
    <section id="member-dashboard" class="hidden-section pt-24 pb-10 relative z-10 bg-slate-900/95 border-b border-cyan-500/30">
        <div class="container mx-auto px-6">
            <div class="flex items-center gap-4 mb-8">
                <div class="w-16 h-16 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center justify-center text-2xl font-bold text-white">M</div>
                <div>
                    <h2 class="text-3xl font-bold text-white">Welcome, <span class="text-cyan-400" id="member-name-display">Member</span></h2>
                    <p class="text-gray-400">Member Dashboard</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Events You Joined -->
                <div class="glass-card p-6 rounded-xl flex flex-col h-full">
                    <h3 class="text-xl font-bold text-white mb-4 border-b border-white/10 pb-2">üìÖ Events You Joined</h3>
                    <div id="member-events-container" class="flex-grow flex flex-col justify-center items-center text-center"></div>
                </div>

                <!-- Certificates -->
                <div class="glass-card p-6 rounded-xl flex flex-col h-full">
                    <h3 class="text-xl font-bold text-white mb-4 border-b border-white/10 pb-2">üéñÔ∏è Your Certificates</h3>
                    <div id="member-certs-container" class="flex-grow flex flex-col justify-center items-center text-center"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Hero Section -->
    <section id="home" class="min-h-screen flex items-center justify-center pt-16 relative">
        <div class="container mx-auto px-6 text-center text-white z-10">
            <div class="inline-block border border-cyan-500/50 bg-cyan-500/10 rounded-full px-4 py-1 mb-6 animate-pulse"><span class="text-cyan-300 text-sm tracking-widest font-bold">EST. 2017</span></div>
            <h1 class="text-5xl md:text-8xl font-bold mb-6 leading-tight">EXPLORE THE <br><span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500">UNKNOWN</span></h1>
            <h2 class="text-xl md:text-3xl mb-8 text-gray-300 font-light tracking-wider">
                Kabi Nazrul Govt. College Science Club
            </h2>
            
            <p class="max-w-2xl mx-auto text-gray-400 mb-8 text-lg">
                <i>Igniting curiosity, fostering innovation, and shaping 
the future scientists of tomorrow. Join us in the journey of discovery.
            </i></p>
            <div class="flex justify-center gap-4">
                <a href="#events" class="bg-cyan-600 text-white px-8 py-4 rounded font-bold hover:bg-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.5)] transition duration-300 tracking-widest">UPCOMING EVENTS</a>
                <a href="#gallery" class="border border-white/30 bg-white/5 text-white px-8 py-4 rounded font-bold hover:bg-white hover:text-black transition duration-300 tracking-widest backdrop-blur-sm">
                    VIEW GALLERY
                </a>
            </div>
        </div>
    </section>
    
    <!-- About Section -->
    <section id="about" class="py-20 relative z-10">
        <div class="container mx-auto px-6">
            <div class="glass-card p-8 md:p-12 rounded-2xl">
                <div class="flex flex-col md:flex-row items-center gap-12">
                    <div class="w-40 h-40 md:w-48 md:h-48 rounded-full border-4 border-cyan-500/30 flex items-center justify-center bg-slate-800 shadow-2xl relative overflow-hidden group">
                        <div class="text-7xl"><img src="logo.jpeg" alt="club logo" class="w-40 h-40 md:w-48 md:h-48 object-cover rounded-full"></div>
                    </div>   
                    <div class="flex-1">
                        <h2 class="text-4xl font-bold mb-6 text-white">Message from the <span class="text-cyan-400">President</span></h2>
                        <p class="text-gray-300 leading-relaxed text-lg mb-4 italic">"Science is the poetry of reality."</p>
                        <p class="text-2xl text-gray-400 mb-6 leading-relaxed">
                            Welcome to KNGCSC. We organize workshops, olympiads, and research projects to help students apply their knowledge in the real world.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section><br><br><br><br>
    
   <section id="panel" class="py-20 relative z-10">
  <div class="container mx-auto px-6">
    <h2 class="text-4xl font-bold text-center mb-12 text-white">Our <span class="text-gradient">Panel</span></h2>

    <!-- ======= LARGE / DESKTOP LAYOUT (lg and up) ======= -->
    <div class="hidden lg:block max-w-7xl mx-auto">
      <!-- Top row: 4-column grid with empty slots at col 1 & 4 to center cards in 2 & 3 -->
      <div class="grid grid-cols-4 gap-8 mb-8">
        <div></div> <!-- empty col to center -->
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3">
            <img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full">
          </div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>

        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3">
            <img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full">
          </div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
        <div></div> <!-- empty col to center -->
      </div>

      <!-- Next two rows: each row is 4 cards -->
      <div class="grid grid-cols-4 gap-8 mb-8">
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
      </div>

      <div class="grid grid-cols-4 gap-8">
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
        <div class="glass-card p-6 rounded-xl text-center">
          <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
          <h3 class="font-bold text-white">Photo</h3>
        </div>
      </div>
    </div>

    <!-- ======= MOBILE & TABLET LAYOUT (sm and md) ======= -->
    <!-- This will show a 2-column grid with the same card order used on large screens -->
    <div class="grid grid-cols-2 gap-6 lg:hidden max-w-5xl mx-auto">
      <!-- Put the exact same 10 cards in the desired order for mobile -->
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>

      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>

      <!-- remaining 8 -->
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>
      <div class="glass-card p-6 rounded-xl text-center">
        <div class="flex justify-center mb-3"><img src="logo.jpeg" alt="panel" class="w-20 h-20 object-cover rounded-full"></div>
        <h3 class="font-bold text-white">Photo</h3>
      </div>
    </div>
  </div>
</section>

    
    <!-- UPCOMING EVENTS -->
    <section id="events" class="py-20 relative z-10">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-white mb-12">Upcoming <span class="text-gradient">Events</span></h2>
            <div id="events-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Events loaded here via JS -->
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="py-20 relative z-10">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-4 text-white">Media <span class="text-gradient">Gallery</span></h2>
            <div class="w-24 h-1 bg-cyan-500 mx-auto mb-12 rounded"></div>
            <div id="gallery-grid" class="grid grid-cols-1 md:grid-cols-3 gap-4 max-w-6xl mx-auto">
                <!-- Gallery items loaded here -->
            </div>
        </div>
    </section>
    
        <section id="contact" class="py-20 relative z-10" style="opacity: 1; transform: translateY(0px); transition: opacity 0.8s, transform 0.8s;">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold text-center mb-12 text-white">Get In <span class="text-cyan-400">Touch</span></h2>
            <div class="max-w-2xl mx-auto">
                <form action="https://formspree.io/f/movglqeo"
  method="POST" enctype="multipart/form-data" id="contact-form" class="glass-card p-8 rounded-2xl">
                    <div class="mb-6">
                        <label for="name" class="block text-cyan-400 font-semibold mb-2 tracking-wide">NAME</label>
                        <input type="text" id="name" name="name" required="" class="w-full px-4 py-3 bg-slate-900/50 border border-gray-600 text-white rounded focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition">
                    </div>
                    <div class="mb-6">
                        <label for="email" class="block text-cyan-400 font-semibold mb-2 tracking-wide">EMAIL</label>
                        <input type="email" id="email" name="email" required="" class="w-full px-4 py-3 bg-slate-900/50 border border-gray-600 text-white rounded focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition">
                    </div>
                    <div class="mb-6">
                        <label for="message" class="block text-cyan-400 font-semibold mb-2 tracking-wide">MESSAGE</label>
                        <textarea id="message" name="message" rows="4" required="" class="w-full px-4 py-3 bg-slate-900/50 border border-gray-600 text-white rounded focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 transition"></textarea>
                    </div>
                    <button type="submit" class="w-full bg-cyan-600 text-white py-3 rounded font-bold tracking-wider hover:bg-cyan-500 hover:shadow-[0_0_15px_rgba(6,182,212,0.6)] transition duration-300">SEND TRANSMISSION</button>
                </form>
            </div>
        </div>
    </section>

    <footer class="bg-slate-900 border-t border-gray-800 text-white py-8 relative z-10 text-center">
    <a href="#home" class="text-2xl font-bold brand-font text-white tracking-wider">KNG<span class="text-cyan-400">CSC</span></a>
    <p class="text-gray-500 mb-4">¬© 2024 Kabi Nazrul Govt. College Science Club. All rights reserved.</p>
    <p class="text-gray-500 mb-4">DEVELOPER: GM DIPU</p></footer>

    <!-- SCRIPTS -->
        <!-- SCRIPTS -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, setDoc, doc, getDocs, orderBy, query, getDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

        // --- ADMIN EMAILS CONFIG ---
        const adminEmails = ["admin.kngcsc@kngcsc.com", "kdmohiuddin2007@gmail.com"];

        // --- FIREBASE CONFIG ---
        const firebaseConfig = {
            apiKey: "AIzaSyDhtN13AInS9_tHNkgNa9_SfxASyiWxGes",
            authDomain: "kngcsc-web.firebaseapp.com",
            projectId: "kngcsc-web",
            storageBucket: "kngcsc-web.firebasestorage.app",
            messagingSenderId: "548945249698",
            appId: "1:548945249698:web:71f5d2f7e9f42aa7d1defb"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- UI UTILS ---
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        if(mobileMenuBtn) mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

        const loginModal = document.getElementById('loginModal');
        window.openLoginModal = () => { loginModal.classList.remove('hidden'); toggleAuthMode('login'); }
        window.closeLoginModal = () => { loginModal.classList.add('hidden'); document.getElementById('loginError').classList.add('hidden'); }
        
        window.toggleAuthMode = (mode) => {
            document.getElementById('loginContainer').classList.toggle('hidden', mode === 'signup');
            document.getElementById('signupContainer').classList.toggle('hidden', mode !== 'signup');
        }

        // --- LOGIN (UPDATED WITH ALERTS) ---
        window.handleLogin = async (e) => {
            e.preventDefault();
            let username = document.getElementById('loginEmail').value.trim();
            const pass = document.getElementById('loginPass').value;
            
            // Normalize email
            if (!username.includes('@')) username += "@kngcsc.com";

            try {
                await signInWithEmailAndPassword(auth, username, pass);
                closeLoginModal();
            } catch (error) {
                // 1. Show "Invalid Credentials" on the form (Existing design)
                const errorDiv = document.getElementById('loginError');
                errorDiv.classList.remove('hidden');
                errorDiv.innerText = "Invalid Credentials";

                // 2. Show Popups based on error code
                console.log("Error Code:", error.code); // For debugging

                if (error.code === 'auth/user-not-found') {
                    // Non-user trying to login
                    alert("Create new account first");
                } 
                else if (error.code === 'auth/wrong-password' || error.code === 'auth/invalid-credential' || error.code === 'auth/invalid-login-credentials') {
                    // Wrong password or bad credentials
                    alert("Please fill with correct information");
                } 
                else if (error.code === 'auth/too-many-requests') {
                    alert("Too many failed attempts. Please try again later.");
                }
                else {
                    // Fallback
                    alert("Login failed: " + error.message);
                }
            }
        }

        // --- SIGN UP ---
        window.handleSignUp = async (e) => {
            e.preventDefault();
            const name = document.getElementById('regName').value.trim();
            const email = document.getElementById('regEmail').value.trim();
            const pass = document.getElementById('regPass').value;

            // Normalize email
            const fixedEmail = email.includes('@') ? email : email + '@kngcsc.com';

            if(!name || !email || !pass){
                const err = document.getElementById('signupError');
                err.classList.remove('hidden');
                err.innerText = 'Please fill all required fields.';
                return;
            }

            try {
                const cred = await createUserWithEmailAndPassword(auth, fixedEmail, pass);
                await setDoc(doc(db, "users", cred.user.uid), { fullName: name, email: fixedEmail, role: "member", createdAt: new Date() });
                alert("Account Created!");
                closeLoginModal();
            } catch (error) {
                const err = document.getElementById('signupError');
                err.classList.remove('hidden');
                
                if(error.code === 'auth/email-already-in-use'){
                    err.innerText = 'Email already registered. Please login.';
                } else if (error.code === 'auth/weak-password'){
                    err.innerText = 'Password must be at least 6 characters.';
                } else {
                    err.innerText = error.message || 'Signup failed.';
                }
            }
        }

        // --- FORGOT PASSWORD ---
        window.handleForgotPassword = async () => {
            let email = document.getElementById('loginEmail').value.trim();
            if(!email) {
                alert("Please enter your email in the username field first.");
                return;
            }
            if(!email.includes('@')) email = email + '@kngcsc.com';
            try {
                await sendPasswordResetEmail(auth, email);
                alert("Password reset email sent to " + email);
            } catch(error) {
                if(error.code === 'auth/user-not-found') {
                    alert("No account found with this email.");
                } else {
                    alert("Error: " + (error.message || error));
                }
            }
        }

        // --- AUTH LISTENER ---
        onAuthStateChanged(auth, async (user) => {
            const adminPanel = document.getElementById('admin-panel');
            const memberDashboard = document.getElementById('member-dashboard');
            const loginBtn = document.getElementById('loginBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            // const mobileLoginBtn = document.getElementById('mobileLoginBtn'); // If you use these IDs in HTML
            // const mobileLogoutBtn = document.getElementById('mobileLogoutBtn');

            if (user) {
                // Show Logout, Hide Login
                if(loginBtn) loginBtn.classList.add('hidden');
                if(logoutBtn) logoutBtn.classList.remove('hidden');
                
                // Check Role (by email)
                if (adminEmails.includes(user.email)) {
                    if(adminPanel) adminPanel.classList.remove('hidden-section');
                    if(memberDashboard) memberDashboard.classList.add('hidden-section');
                } else {
                    if(memberDashboard) memberDashboard.classList.remove('hidden-section');
                    if(adminPanel) adminPanel.classList.add('hidden-section');
                    loadMemberDashboard(user);
                }
            } else {
                // Show Login, Hide Logout
                if(adminPanel) adminPanel.classList.add('hidden-section');
                if(memberDashboard) memberDashboard.classList.add('hidden-section');
                if(loginBtn) loginBtn.classList.remove('hidden');
                if(logoutBtn) logoutBtn.classList.add('hidden');
            }
        });

        // --- LOGOUT ---
        window.handleLogout = async () => {
            try {
                await signOut(auth);
                alert("Logged out.");
                window.location.href = "#home";
            } catch(e){ console.log(e); alert('Logout error'); }
        }

        // --- MEMBER DASHBOARD ---
        async function loadMemberDashboard(user) {
            try {
                const userDoc = await getDoc(doc(db, "users", user.uid));
                if(userDoc && userDoc.exists()) {
                    const data = userDoc.data();
                    const display = document.getElementById('member-name-display');
                    if(display) display.innerText = data.fullName || 'Member';
                }
            } catch(e) { console.log('loadMemberDashboard:', e); }

            // Simulated Empty States
            const eventsContainer = document.getElementById('member-events-container');
            if(eventsContainer) {
                eventsContainer.innerHTML = `
                    <p class="text-gray-400 mb-4 text-lg">You haven't joined any event yet</p>
                    <a href="#events" class="bg-cyan-600 text-white px-6 py-2 rounded font-bold hover:bg-cyan-500 transition shadow-lg">Join Event</a>
                `;
            }

            const certsContainer = document.getElementById('member-certs-container');
            if(certsContainer) {
                certsContainer.innerHTML = `
                    <p class="text-gray-400 mb-4 text-lg">You haven't any certificate</p>
                    <button class="bg-gray-700 text-gray-400 px-6 py-2 rounded font-bold cursor-not-allowed opacity-50">Get Certificate</button>
                `;
            }
        }

        // --- ADMIN FUNCTIONS ---
        window.adminAddEvent = async () => {
            const title = document.getElementById('newEventTitle').value.trim();
            const date = document.getElementById('newEventDate').value;
            const img = document.getElementById('newEventImg').value.trim() || 'https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&w=600&q=80';
            const link = document.getElementById('newEventLink').value.trim();
            
            if(!title || !date){
                alert('Please provide event title and date.');
                return;
            }

            try{
                await addDoc(collection(db, "events"), { title, date, imageUrl: img, regLink: link, createdAt: new Date() });
                alert("Event Published!");
                loadEvents();
            } catch(e){
                console.log(e); alert('Failed to publish event.');
            }
        }

        window.adminAddMedia = async () => {
            const title = document.getElementById('newMediaTitle').value.trim();
            const url = document.getElementById('newMediaUrl').value.trim();
            let type = 'image';

            if(!url){ alert('Please provide a URL for media.'); return; }

            if(url.includes('youtube.com') || url.includes('youtu.be')) {
                type = 'video';
            }

            try{
                await addDoc(collection(db, "gallery"), { title, url, type, createdAt: new Date() });
                alert("Media Added!");
                loadGallery();
            } catch(e){ console.log(e); alert('Failed to add media.'); }
        }

        // --- LOAD PUBLIC DATA ---
        async function loadEvents() {
            const grid = document.getElementById('events-grid');
            if(!grid) return;
            try {
                grid.innerHTML = ''; 
                const q = query(collection(db, "events"), orderBy("createdAt", "desc"));
                const querySnapshot = await getDocs(q);
                
                if(querySnapshot.empty) {
                     grid.innerHTML = `<p class="text-gray-500 col-span-3 text-center">No events scheduled yet.</p>`;
                }

                querySnapshot.forEach((d) => {
                    const data = d.data();
                    const day = data.date ? (data.date.split('-')[2] || 'EVT') : "EVT";
                    const link = data.regLink ? data.regLink : '#';
                    const target = data.regLink ? '_blank' : '_self';

                    const cardHTML = `
                    <div class="glass-card rounded-xl overflow-hidden relative group">
                        <div class="absolute top-0 right-4 w-16 h-20 date-badge flex flex-col items-center justify-center text-white shadow-lg z-10">
                            <span class="text-2xl font-bold">${day}</span><span class="text-xs font-bold">NEW</span>
                        </div>
                        <img src="${data.imageUrl || ''}" class="w-full h-48 object-cover group-hover:scale-110 transition duration-500">
                        <div class="p-6">
                            <h3 class="text-2xl font-bold text-white mt-3 mb-2">${data.title || 'Untitled'}</h3>
                            <a href="${link}" target="${target}" class="block w-full">
                                <button class="w-full border border-white/20 bg-white/5 hover:bg-cyan-600 hover:border-cyan-600 text-white py-2 rounded font-bold transition">REGISTER</button>
                            </a>
                        </div>
                    </div>`;
                    grid.insertAdjacentHTML('beforeend', cardHTML);
                });
            } catch (e) { console.log('loadEvents error:', e); }
        }

        function getEmbedUrl(url) {
            const regExp = /^.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;
            const match = url.match(regExp);
            return (match && match[1] && match[1].length === 11) ? 'https://www.youtube.com/embed/' + match[1] : url;
        }

        async function loadGallery() {
            const grid = document.getElementById('gallery-grid');
            if(!grid) return;
            try {
                grid.innerHTML = '';
                const q = query(collection(db, "gallery"), orderBy("createdAt", "desc"));
                const querySnapshot = await getDocs(q);
                
                if(querySnapshot.empty){
                    grid.innerHTML = `<p class="text-gray-500 text-center col-span-3">No media available.</p>`;
                }

                querySnapshot.forEach((d) => {
                    const data = d.data();
                    let mediaHTML = '';
                    
                    if(data.type === 'video') {
                        const embedUrl = getEmbedUrl(data.url);
                        mediaHTML = `
                        <div class="video-container w-full h-full">
                            <iframe src="${embedUrl}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>`;
                    } else {
                        mediaHTML = `<img src="${data.url}" class="w-full h-full object-cover rounded group-hover:scale-105 transition duration-500" alt="${data.title || 'media'}">`;
                    }

                    const cardHTML = `
                    <div class="glass-card p-2 rounded-lg h-64 relative group overflow-hidden">
                        ${mediaHTML}
                        <div class="absolute bottom-0 left-0 w-full bg-black/70 p-2 translate-y-full group-hover:translate-y-0 transition duration-300">
                            <p class="text-white text-sm text-center font-bold">${data.title || 'Untitled'}</p>
                        </div>
                    </div>`;
                    grid.insertAdjacentHTML('beforeend', cardHTML);
                });
            } catch (e) { console.log('loadGallery error:', e); }
        }

        // Initial Load
        loadEvents();
        loadGallery();

    </script>
</script>
</body>
</html>
